!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";class t{constructor(t){this.modal=document.getElementById(t)}show(t){this.modal.innerHTML=`\n            <div class="modal-content">\n                <h3>${t.title}</h3>\n                <p><strong>Time:</strong> ${t.start_time} - ${t.end_time}</p>\n                <p><strong>Location:</strong> ${t.location}</p>\n                <p><strong>Department:</strong> ${t.department}</p>\n                <p><strong>Available Spots:</strong> ${t.applied} / ${t.total}</p>\n                <button id="applyShift">Apply</button>\n                <button id="cancelShift">Cancel</button>\n                <button id="closeModal">Close</button>\n            </div>\n        `,this.modal.style.display="block",document.getElementById("applyShift").onclick=()=>this.applyShift(t.id),document.getElementById("cancelShift").onclick=()=>this.cancelShift(t.id),document.getElementById("closeModal").onclick=()=>this.hide()}hide(){this.modal.style.display="none"}async applyShift(t){console.log("Applying for shift:",t),this.hide()}async cancelShift(t){console.log("Canceling shift:",t),this.hide()}}class e{constructor(e,i){this.shifts=[{id:1,title:"Gbangbatok Airport",location:"Information Booth",department:"Event Planners",start_time:"2024-03-10T07:00:00Z",end_time:"2024-03-10T10:00:00+00:00",applied:2,total:3,available:!1},{id:2,title:"Caribou Municipal Airport",location:"Conference Room 2",department:"Catering Staff",start_time:"2024-03-10T07:00:00Z",end_time:"2024-03-10T08:00:00+00:00",applied:4,total:5,available:!0},{id:3,title:"Maquehue Airport",location:"Cafeteria",department:"Registration Staff",start_time:"2024-03-10T05:00:00Z",end_time:"2024-03-10T07:00:00+00:00",applied:4,total:4,available:!1},{id:4,title:"Calicut International Airport",location:"Restroom",department:"Cleaning Crew",start_time:"2024-03-10T10:00:00Z",end_time:"2024-03-10T11:00:00+00:00",applied:2,total:5,available:!0},{id:5,title:"RAF Lyneham",location:"Information Booth",department:"Parking Attendants",start_time:"2024-03-10T08:00:00Z",end_time:"2024-03-10T10:00:00+00:00",applied:5,total:9,available:!1},{id:6,title:"Lai Airport",location:"Registration Desk",department:"Tech Support",start_time:"2024-03-10T12:00:00Z",end_time:"2024-03-10T13:00:00+00:00",applied:3,total:3,available:!1},{id:7,title:"Bayankhongor Airport",location:"Hall A",department:"Lighting Crew",start_time:"2024-03-10T08:00:00Z",end_time:"2024-03-10T10:00:00+00:00",applied:0,total:9,available:!0},{id:8,title:"Turkmenabat Airport",location:"Lounge Area",department:"Registration Staff",start_time:"2024-03-10T06:00:00Z",end_time:"2024-03-10T09:00:00+00:00",applied:1,total:5,available:!0},{id:9,title:"Bhurban Heliport",location:"Conference Room 2",department:"Theater Crew",start_time:"2024-03-10T11:00:00Z",end_time:"2024-03-10T14:00:00+00:00",applied:0,total:2,available:!1},{id:10,title:"Whangarei Airport",location:"Information Booth",department:"Lighting Crew",start_time:"2024-03-10T10:00:00Z",end_time:"2024-03-10T11:00:00+00:00",applied:4,total:10,available:!0},{id:11,title:"General Pico Airport",location:"Hall A",department:"Event Planners",start_time:"2024-03-10T06:00:00Z",end_time:"2024-03-10T07:00:00+00:00",applied:1,total:6,available:!1},{id:12,title:"Djúpivogur Airport",location:"Lounge Area",department:"Tech Support",start_time:"2024-03-10T05:00:00Z",end_time:"2024-03-10T08:00:00+00:00",applied:3,total:6,available:!1},{id:13,title:"Windarra Airport",location:"Lounge Area",department:"Parking Attendants",start_time:"2024-03-10T06:00:00Z",end_time:"2024-03-10T07:00:00+00:00",applied:4,total:7,available:!1},{id:14,title:"Aroa Airport",location:"Exhibit Hall 1",department:"Security",start_time:"2024-03-10T08:00:00Z",end_time:"2024-03-10T09:00:00+00:00",applied:0,total:3,available:!0},{id:15,title:"Tte. Julio Gallardo Airport",location:"Hall A",department:"Tech Support",start_time:"2024-03-10T06:00:00Z",end_time:"2024-03-10T07:00:00+00:00",applied:3,total:10,available:!1},{id:16,title:"Aeroclube Airport",location:"Security Checkpoint",department:"Medical Team",start_time:"2024-03-10T11:00:00Z",end_time:"2024-03-10T14:00:00+00:00",applied:5,total:9,available:!0},{id:17,title:"Illizi Takhamalt Airport",location:"Lounge Area",department:"Registration Staff",start_time:"2024-03-10T04:00:00Z",end_time:"2024-03-10T07:00:00+00:00",applied:3,total:9,available:!1},{id:18,title:"Kikai Airport",location:"Restroom",department:"Parking Attendants",start_time:"2024-03-10T07:00:00Z",end_time:"2024-03-10T08:00:00+00:00",applied:5,total:5,available:!1},{id:19,title:"Imbaimadai Airport",location:"Hall A",department:"Lighting Crew",start_time:"2024-03-10T08:00:00Z",end_time:"2024-03-10T09:00:00+00:00",applied:2,total:10,available:!1},{id:20,title:"Graeme Rowley Aerodrome",location:"Hall A",department:"Registration Staff",start_time:"2024-03-10T10:00:00Z",end_time:"2024-03-10T13:00:00+00:00",applied:3,total:10,available:!1},{id:21,title:"Qianjiang Wulingshan Airport",location:"Lounge Area",department:"Cleaning Crew",start_time:"2024-03-10T08:00:00Z",end_time:"2024-03-10T09:00:00+00:00",applied:2,total:2,available:!1},{id:22,title:"Santa Rosa International Airport",location:"Hall A",department:"Theater Crew",start_time:"2024-03-10T04:00:00Z",end_time:"2024-03-10T07:00:00+00:00",applied:1,total:6,available:!0},{id:23,title:"Bossangoa Airport",location:"Hall A",department:"Cleaning Crew",start_time:"2024-03-10T05:00:00Z",end_time:"2024-03-10T07:00:00+00:00",applied:2,total:2,available:!0},{id:24,title:"Ikela Airport",location:"Information Booth",department:"Theater Crew",start_time:"2024-03-10T10:00:00Z",end_time:"2024-03-10T11:00:00+00:00",applied:1,total:10,available:!0},{id:25,title:"Esbjerg Airport",location:"Conference Room 2",department:"Tech Support",start_time:"2024-03-10T06:00:00Z",end_time:"2024-03-10T09:00:00+00:00",applied:1,total:4,available:!1},{id:26,title:"Paso Robles Municipal Airport",location:"Registration Desk",department:"Lighting Crew",start_time:"2024-03-10T12:00:00Z",end_time:"2024-03-10T15:00:00+00:00",applied:5,total:5,available:!0},{id:27,title:"Jiri Airport",location:"Information Booth",department:"Catering Staff",start_time:"2024-03-10T06:00:00Z",end_time:"2024-03-10T09:00:00+00:00",applied:1,total:6,available:!0},{id:28,title:"Sialum Airport",location:"Vendor Booth 15",department:"Event Planners",start_time:"2024-03-10T04:00:00Z",end_time:"2024-03-10T05:00:00+00:00",applied:3,total:5,available:!1},{id:29,title:"Egegik Airport",location:"Restroom",department:"Cleaning Crew",start_time:"2024-03-10T04:00:00Z",end_time:"2024-03-10T05:00:00+00:00",applied:1,total:3,available:!0},{id:30,title:"Rørvik Airport, Ryum",location:"Conference Room 2",department:"Event Planners",start_time:"2024-03-10T04:00:00Z",end_time:"2024-03-10T07:00:00+00:00",applied:1,total:9,available:!1}],this.hours=Array.from({length:24},((t,e)=>e)),this.container=document.getElementById(e),this.modal=new t(i)}render(t={}){if(!this.container)return void console.error("ShiftCalendar: No container found with ID");console.log("Rendering calendar...");const e=this.shifts.filter((e=>(!t.location||e.location===t.location)&&(!t.department||e.department===t.department)&&(!t.date||e.start_time.startsWith(t.date))));console.log("Filtered Shifts:",e),0===e.length&&console.warn("No shifts to display."),this.hours.map((t=>`<div class="time-slot">${t}:00</div>`)).join(""),console.log("Render Timeline"),e.map((t=>(console.log(`Rendering shift: ${t.title} at ${t.start_time}`),`\n                <div class="shift ${t.available?"available":"full"}" data-id="${t.id}">\n                    <strong>${t.title}</strong> (${t.applied}/${t.total})\n                    <br> ${t.start_time} - ${t.end_time}\n                    <br> ${t.location}\n                </div>`))).join(""),this.container.querySelectorAll(".shift").forEach((t=>{t.addEventListener("click",(()=>{const e=parseInt(t.getAttribute("data-id")),i=this.shifts.find((t=>t.id===e));i&&this.modal.show(i)}))})),this.container.innerHTML=`\n        <div class="container">\n            <div class="row">\n                <div class="col-12">\n                    <div class="timeline border rounded p-3 bg-light">\n                        <div class="row g-0">\n                            ${this.hours.map((t=>`<div class="col text-center bg-secondary text-white py-1 border">${t}:00</div>`)).join("")}\n                        </div>\n                        <div class="row g-0 shifts-container position-relative">\n                            ${e.map((t=>this.renderShiftBlock(t))).join("")}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `,console.log("Calendar rendered successfully.")}renderShiftBlock(t){const e=new Date(t.start_time).getHours(),i=new Date(t.end_time).getHours(),a=e+1,n=Math.max(1,i-e);return`\n        <div class="position-absolute shift-block ${t.available?"bg-success":"bg-danger"} text-white p-2"\n            style="left: ${a*(100/24)}%; width: ${n*(100/24)}%;">\n            <strong>${t.title}</strong> (${t.applied}/${t.total})\n        </div>\n        `}}class i{constructor(t){this.onFilterChange=t,this.filters={}}render(t){document.getElementById(t).innerHTML='\n        <div class="row">\n            <div class="col-md-4">\n                <label for="locationFilter" class="form-label">Location</label>\n                <select id="locationFilter" class="form-select">\n                    <option value="">All Locations</option>\n                    <option value="Stage A">Stage A</option>\n                    <option value="Main Entrance">Main Entrance</option>\n                    <option value="Control Room">Control Room</option>\n                </select>\n            </div>\n            <div class="col-md-4">\n                <label for="departmentFilter" class="form-label">Department</label>\n                <select id="departmentFilter" class="form-select">\n                    <option value="">All Departments</option>\n                    <option value="Logistics">Logistics</option>\n                    <option value="Security">Security</option>\n                    <option value="IT">IT</option>\n                </select>\n            </div>\n            <div class="col-md-4 d-flex align-items-end">\n                <button id="applyFilters" class="btn btn-primary w-100">Apply</button>\n            </div>\n        </div>\n    ',document.getElementById("applyFilters").onclick=()=>{this.filters.location=document.getElementById("locationFilter").value,this.filters.department=document.getElementById("departmentFilter").value,this.filters.date=document.getElementById("dateFilter").value,this.onFilterChange(this.filters)}}}"undefined"!=typeof window&&(window.ShiftCalendar=e,window.Filter=i)}));
